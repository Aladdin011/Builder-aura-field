import{a as c,z as se,B as re,j as e,C as te,P as J,D as q,E as ce,b as T,y as oe,u as le,m as C,L as O,A as $}from"./index-nmDkNLb9.js";import{B as A}from"./button-B9irOj4f.js";import{I as N}from"./input-ClwaKdJV.js";import{L as u}from"./label-DzekhsI6.js";import{u as ne,e as ie,C as de,S as me,a as he,b as ue,c as xe,d as pe}from"./select-Dieq21Ts.js";import{C as fe,a as ge,b as be,c as je,d as Ne}from"./card-CyT1CJ5q.js";import{P as ve}from"./progress-Dx-Qw5CB.js";import{u as ye,P as we}from"./useAnalytics-DvmeuErV.js";import{C as R}from"./circle-check-big-DCq7Zk4U.js";import{C as _}from"./circle-alert-DrK8qXD4.js";import{U as Ce}from"./user-BDQekqej.js";import{M as Pe}from"./mail-LveKrOwl.js";import{P as ke,B as Se,M as Ee}from"./phone-BW_EnK6Z.js";import{L as D}from"./lock-BT-z7BbI.js";import{E as H,L as Ae}from"./loader-circle-Cpk6xyHI.js";import{E as z}from"./eye-bBdmlvO3.js";import{A as Re}from"./arrow-left-Dc7-N0pI.js";import{A as Le}from"./chevron-down-U7Ek25Ej.js";import"./component-BxsaUo9e.js";import"./chevron-up-CeH5mjr9.js";var F="Checkbox",[Me,ra]=te(F),[De,Fe]=Me(F),K=c.forwardRef((r,h)=>{const{__scopeCheckbox:t,name:b,checked:x,defaultChecked:i,required:s,disabled:p,value:j="on",onCheckedChange:d,...k}=r,[m,n]=c.useState(null),S=se(h,o=>n(o)),P=c.useRef(!1),E=m?!!m.closest("form"):!0,[f=!1,y]=re({prop:x,defaultProp:i,onChange:d}),L=c.useRef(f);return c.useEffect(()=>{const o=m?.form;if(o){const l=()=>y(L.current);return o.addEventListener("reset",l),()=>o.removeEventListener("reset",l)}},[m,y]),e.jsxs(De,{scope:t,state:f,disabled:p,children:[e.jsx(J.button,{type:"button",role:"checkbox","aria-checked":v(f)?"mixed":f,"aria-required":s,"data-state":X(f),"data-disabled":p?"":void 0,disabled:p,value:j,...k,ref:S,onKeyDown:q(r.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:q(r.onClick,o=>{y(l=>v(l)?!0:!l),E&&(P.current=o.isPropagationStopped(),P.current||o.stopPropagation())})}),E&&e.jsx(Ie,{control:m,bubbles:!P.current,name:b,value:j,checked:f,required:s,disabled:p,style:{transform:"translateX(-100%)"}})]})});K.displayName=F;var U="CheckboxIndicator",V=c.forwardRef((r,h)=>{const{__scopeCheckbox:t,forceMount:b,...x}=r,i=Fe(U,t);return e.jsx(ce,{present:b||v(i.state)||i.state===!0,children:e.jsx(J.span,{"data-state":X(i.state),"data-disabled":i.disabled?"":void 0,...x,ref:h,style:{pointerEvents:"none",...r.style}})})});V.displayName=U;var Ie=r=>{const{control:h,checked:t,bubbles:b=!0,...x}=r,i=c.useRef(null),s=ne(t),p=ie(h);return c.useEffect(()=>{const j=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==t&&m){const n=new Event("click",{bubbles:b});j.indeterminate=v(t),m.call(j,v(t)?!1:t),j.dispatchEvent(n)}},[s,t,b]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:v(t)?!1:t,...x,tabIndex:-1,ref:i,style:{...r.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(r){return r==="indeterminate"}function X(r){return v(r)?"indeterminate":r?"checked":"unchecked"}var Y=K,Be=V;const Z=c.forwardRef(({className:r,...h},t)=>e.jsx(Y,{ref:t,className:T("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...h,children:e.jsx(Be,{className:T("flex items-center justify-center text-current"),children:e.jsx(de,{className:"h-4 w-4"})})}));Z.displayName=Y.displayName;function ta(){const[r,h]=c.useState(1),[t,b]=c.useState(!1),[x,i]=c.useState(!1),[s,p]=c.useState({firstName:"",lastName:"",email:"",phone:"",location:"",company:"",department:"",isStaff:!1,password:"",confirmPassword:""}),j=[{value:"secretariat-admin",label:"Secretariat/Admin"},{value:"business-development",label:"Business Development"},{value:"project-management",label:"Project Management"},{value:"accounting",label:"Accounting"},{value:"human-resources",label:"Human Resources"},{value:"digital-marketing",label:"Digital Marketing"},{value:"business-administration",label:"Business Administration"}],[d,k]=c.useState(null),[m,n]=c.useState(""),[S,P]=c.useState(""),{register:E,isLoading:f,isAuthenticated:y}=oe(),{trackBusinessEvent:L}=ye(),o=le();c.useEffect(()=>{y&&o("/dashboard",{replace:!0})},[y,o]);const l=(a,g)=>{if(p(w=>({...w,[a]:g})),a==="confirmPassword"||a==="password"&&s.confirmPassword){const w=a==="password"?g:s.password,ae=a==="confirmPassword"?g:s.confirmPassword;k(w===ae&&w.length>0)}},I=a=>{switch(n(""),a){case 1:return!s.firstName||!s.lastName||!s.email||!s.phone?(n("Please fill in all required fields"),!1):s.email.includes("@")?!0:(n("Please enter a valid email address"),!1);case 2:return!s.location||!s.password||!s.confirmPassword?(n("Please fill in all required fields"),!1):s.password.length<8?(n("Password must be at least 8 characters long"),!1):d?!0:(n("Passwords do not match"),!1);default:return!1}},G=()=>{I(r)&&h(a=>Math.min(a+1,2))},Q=()=>{h(a=>Math.max(a-1,1)),n("")},W=async a=>{if(a.preventDefault(),!!I(2))try{const g=await E({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,location:s.location,company:s.company,department:s.department,isStaff:s.isStaff,password:s.password,confirmPassword:s.confirmPassword});g.departmentCode&&p(w=>({...w,departmentCode:g.departmentCode})),g.success?(L.userAuth("register"),P("Account created successfully! Redirecting to dashboard..."),setTimeout(()=>{o("/dashboard")},2e3)):n(g.error||"Registration failed")}catch{n("Registration failed. Please try again.")}},ee={1:"Personal Information",2:"Account Setup"},M=r/2*100,B={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};return e.jsx(we,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-arch-light-blue/20 via-white to-arch-light-blue/30 flex items-center justify-center p-4",children:e.jsx(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"w-full max-w-2xl",children:e.jsxs(fe,{className:"shadow-2xl border-0 overflow-hidden backdrop-blur-sm bg-white/95",children:[e.jsx(ge,{className:"bg-gradient-to-r from-arch-charcoal to-arch-blue-gray text-white py-8",children:e.jsxs(C.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"text-center",children:[e.jsx(O,{to:"/",className:"inline-block mb-4 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/images/brand/logo.jpg",alt:"JD Marc Limited Logo",className:"h-16 w-auto mx-auto object-contain"})}),e.jsx(be,{className:"text-2xl font-bold text-white mb-2",children:"Join JD Marc Limited"}),e.jsx(je,{className:"text-arch-light-blue",children:"Create your account to access our platform"})]})}),e.jsxs(Ne,{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm font-medium text-arch-charcoal",children:["Step ",r," of 2: ",ee[r]]}),e.jsxs("span",{className:"text-sm text-arch-blue-gray",children:[Math.round(M),"% Complete"]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:[1,2].map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${a<=r?"bg-arch-orange text-white shadow-lg":a===r+1?"bg-arch-orange/20 text-arch-orange border-2 border-arch-orange":"bg-arch-light-blue/30 text-arch-blue-gray"}`,children:a<r?e.jsx(R,{className:"h-5 w-5"}):a}),a<2&&e.jsx("div",{className:`w-12 h-0.5 transition-all duration-300 ${a<r?"bg-arch-orange":"bg-arch-light-blue/30"}`})]},a))})}),e.jsx(ve,{value:M,className:"h-2 bg-arch-light-blue/30",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-arch-orange to-arch-rust transition-all duration-500",style:{width:`${M}%`}})})]}),e.jsxs($,{children:[m&&e.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[e.jsx(_,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-red-700 text-sm",children:m})]}),S&&e.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[e.jsx(R,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-green-700 text-sm",children:S})]})]}),e.jsxs("form",{onSubmit:W,className:"space-y-6",children:[e.jsxs($,{mode:"wait",children:[r===1&&e.jsxs(C.div,{...B,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ce,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Personal Details"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Tell us about yourself"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"firstName",className:"text-arch-charcoal font-medium",children:"First Name *"}),e.jsx(N,{id:"firstName",placeholder:"Enter your first name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.firstName,onChange:a=>l("firstName",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"lastName",className:"text-arch-charcoal font-medium",children:"Last Name *"}),e.jsx(N,{id:"lastName",placeholder:"Enter your last name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.lastName,onChange:a=>l("lastName",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",className:"text-arch-charcoal font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"email",type:"email",placeholder:"Enter your email address",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.email,onChange:a=>l("email",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"phone",className:"text-arch-charcoal font-medium",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"phone",placeholder:"+234 803 000 0000",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.phone,onChange:a=>l("phone",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"company",className:"text-arch-charcoal font-medium",children:"Company/Organization (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"company",placeholder:"Enter your company name",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.company,onChange:a=>l("company",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"department",className:"text-arch-charcoal font-medium",children:"Department"}),e.jsxs(me,{value:s.department,onValueChange:a=>l("department",a),children:[e.jsx(he,{className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",children:e.jsx(ue,{placeholder:"Select your department"})}),e.jsx(xe,{children:j.map(a=>e.jsx(pe,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"isStaff",checked:s.isStaff,onCheckedChange:a=>l("isStaff",a===!0)}),e.jsx(u,{htmlFor:"isStaff",className:"text-sm font-medium leading-none text-arch-blue-gray",children:"Register as Staff"})]})]},"step1"),r===2&&e.jsxs(C.div,{...B,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(D,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Account Setup"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Complete your account details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"location",className:"text-arch-charcoal font-medium",children:"Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"location",placeholder:"City, Country",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.location,onChange:a=>l("location",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",className:"text-arch-charcoal font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"password",type:t?"text":"password",placeholder:"Create a strong password",className:"pl-11 pr-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.password,onChange:a=>l("password",a.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>b(!t),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:t?e.jsx(H,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"confirmPassword",className:"text-arch-charcoal font-medium",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(N,{id:"confirmPassword",type:x?"text":"password",placeholder:"Confirm your password",className:`pl-11 pr-16 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20 ${d===!1?"border-red-500 focus:border-red-500":d===!0?"border-green-500 focus:border-green-500":""}`,value:s.confirmPassword,onChange:a=>l("confirmPassword",a.target.value),required:!0}),e.jsxs("div",{className:"absolute right-11 top-3",children:[d===!0&&e.jsx(R,{className:"h-5 w-5 text-green-500"}),d===!1&&e.jsx(_,{className:"h-5 w-5 text-red-500"})]}),e.jsx("button",{type:"button",onClick:()=>i(!x),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:x?e.jsx(H,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]}),d===!1&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"}),d===!0&&e.jsx("p",{className:"text-green-500 text-xs mt-1",children:"Passwords match"})]})]}),e.jsxs("div",{className:"bg-arch-light-blue/20 border border-arch-light-blue/40 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-arch-charcoal mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-arch-blue-gray space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.password.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters long"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[A-Z]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[0-9]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One number"]})]})]})]},"step2")]}),s.departmentCode?e.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Registration Successful!"}),e.jsx("p",{className:"text-green-700 mb-4",children:"Your department code has been generated:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-green-300 text-center",children:e.jsx("span",{className:"text-2xl font-bold text-arch-orange",children:s.departmentCode})}),e.jsx("p",{className:"mt-4 text-sm text-green-600",children:"Please save this code for future reference."}),e.jsx(A,{type:"button",className:"w-full mt-4 bg-arch-blue hover:bg-arch-blue/90 text-white",onClick:()=>o("/login"),children:"Continue to Login"})]}):e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(A,{type:"button",variant:"outline",onClick:Q,disabled:r===1,className:"flex items-center gap-2 border-arch-light-blue text-arch-charcoal hover:bg-arch-light-blue/20",children:[e.jsx(Re,{className:"h-4 w-4"}),"Previous"]}),r<2?e.jsxs(A,{type:"button",onClick:G,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white",children:["Next",e.jsx(Le,{className:"h-4 w-4"})]}):e.jsx(A,{type:"submit",disabled:f,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white min-w-[140px]",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"h-4 w-4 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4"}),"Create Account"]})})]})]}),e.jsx("div",{className:"text-center mt-8 pt-6 border-t border-arch-light-blue/30",children:e.jsxs("p",{className:"text-arch-blue-gray",children:["Already have an account?"," ",e.jsx(O,{to:"/login",className:"text-arch-orange hover:text-arch-rust font-medium transition-colors",children:"Sign in here"})]})})]})]})})})})}export{ta as default};
