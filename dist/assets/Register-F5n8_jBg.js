import{a as i,y as z,u as Y,j as e,m as h,L as k,A as E}from"./index-BnceLS42.js";import{B as x}from"./button-J131mglG.js";import{I as n}from"./input-ueBmD324.js";import{L as l}from"./label-CWK4IZoj.js";import{C as Z}from"./checkbox-BXfqXsdb.js";import{C as G,a as K,b as Q,c as W,d as X}from"./card-B76KPtlG.js";import{P as _}from"./progress-DwWGUpyA.js";import{S as ee,a as ae,b as se,c as re,d as te}from"./select-DxaymnAs.js";import{u as le,P as ce}from"./useAnalytics-olSXByOm.js";import{C as g}from"./circle-check-big-0RD2Hh-P.js";import{C as L}from"./circle-alert-YOvOBI1O.js";import{U as oe}from"./user-B-kdyQeG.js";import{M as ie}from"./mail-C-jywXpg.js";import{P as ne,B as de,M as me}from"./phone-mlxt71p9.js";import{L as j}from"./lock-ggtkLSkw.js";import{E as F,L as he}from"./loader-circle-IDBDBFV2.js";import{E as M}from"./eye-DxfiY9_T.js";import{A as ue}from"./arrow-left-BhWlkFDD.js";import{A as xe}from"./chevron-down-CDymPMC5.js";import"./chevron-up-N8KttRao.js";function qe(){const[r,N]=i.useState(1),[p,D]=i.useState(!1),[f,R]=i.useState(!1),[s,y]=i.useState({firstName:"",lastName:"",email:"",phone:"",location:"",company:"",department:"",isStaff:!1,password:"",confirmPassword:""}),q=[{value:"secretariat-admin",label:"Secretariat/Admin"},{value:"business-development",label:"Business Development"},{value:"project-management",label:"Project Management"},{value:"accounting",label:"Accounting"},{value:"human-resources",label:"Human Resources"},{value:"digital-marketing",label:"Digital Marketing"},{value:"business-administration",label:"Business Administration"}],[d,B]=i.useState(null),[w,c]=i.useState(""),[v,T]=i.useState(""),{register:$,isLoading:C,isAuthenticated:P}=z(),{trackBusinessEvent:I}=le(),u=Y();i.useEffect(()=>{P&&u("/dashboard",{replace:!0})},[P,u]);const t=(a,o)=>{if(y(m=>({...m,[a]:o})),a==="confirmPassword"||a==="password"&&s.confirmPassword){const m=a==="password"?o:s.password,V=a==="confirmPassword"?o:s.confirmPassword;B(m===V&&m.length>0)}},S=a=>{switch(c(""),a){case 1:return!s.firstName||!s.lastName||!s.email||!s.phone?(c("Please fill in all required fields"),!1):s.email.includes("@")?!0:(c("Please enter a valid email address"),!1);case 2:return!s.location||!s.password||!s.confirmPassword?(c("Please fill in all required fields"),!1):s.password.length<8?(c("Password must be at least 8 characters long"),!1):d?!0:(c("Passwords do not match"),!1);default:return!1}},O=()=>{S(r)&&N(a=>Math.min(a+1,2))},J=()=>{N(a=>Math.max(a-1,1)),c("")},U=async a=>{if(a.preventDefault(),!!S(2))try{const o=await $({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,location:s.location,company:s.company,department:s.department,isStaff:s.isStaff,password:s.password,confirmPassword:s.confirmPassword});o.departmentCode&&y(m=>({...m,departmentCode:o.departmentCode})),o.success?(I.userAuth("register"),T("Account created successfully! Redirecting to dashboard..."),setTimeout(()=>{u("/dashboard")},2e3)):c(o.error||"Registration failed")}catch{c("Registration failed. Please try again.")}},H={1:"Personal Information",2:"Account Setup"},b=r/2*100,A={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};return e.jsx(ce,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-arch-light-blue/20 via-white to-arch-light-blue/30 flex items-center justify-center p-4",children:e.jsx(h.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"w-full max-w-2xl",children:e.jsxs(G,{className:"shadow-2xl border-0 overflow-hidden backdrop-blur-sm bg-white/95",children:[e.jsx(K,{className:"bg-gradient-to-r from-arch-charcoal to-arch-blue-gray text-white py-8",children:e.jsxs(h.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"text-center",children:[e.jsx(k,{to:"/",className:"inline-block mb-4 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/images/brand/logo.jpg",alt:"JD Marc Limited Logo",className:"h-16 w-auto mx-auto object-contain"})}),e.jsx(Q,{className:"text-2xl font-bold text-white mb-2",children:"Join JD Marc Limited"}),e.jsx(W,{className:"text-arch-light-blue",children:"Create your account to access our platform"})]})}),e.jsxs(X,{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm font-medium text-arch-charcoal",children:["Step ",r," of 2: ",H[r]]}),e.jsxs("span",{className:"text-sm text-arch-blue-gray",children:[Math.round(b),"% Complete"]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:[1,2].map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${a<=r?"bg-arch-orange text-white shadow-lg":a===r+1?"bg-arch-orange/20 text-arch-orange border-2 border-arch-orange":"bg-arch-light-blue/30 text-arch-blue-gray"}`,children:a<r?e.jsx(g,{className:"h-5 w-5"}):a}),a<2&&e.jsx("div",{className:`w-12 h-0.5 transition-all duration-300 ${a<r?"bg-arch-orange":"bg-arch-light-blue/30"}`})]},a))})}),e.jsx(_,{value:b,className:"h-2 bg-arch-light-blue/30",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-arch-orange to-arch-rust transition-all duration-500",style:{width:`${b}%`}})})]}),e.jsxs(E,{children:[w&&e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[e.jsx(L,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-red-700 text-sm",children:w})]}),v&&e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[e.jsx(g,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-green-700 text-sm",children:v})]})]}),e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs(E,{mode:"wait",children:[r===1&&e.jsxs(h.div,{...A,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(oe,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Personal Details"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Tell us about yourself"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"firstName",className:"text-arch-charcoal font-medium",children:"First Name *"}),e.jsx(n,{id:"firstName",placeholder:"Enter your first name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.firstName,onChange:a=>t("firstName",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastName",className:"text-arch-charcoal font-medium",children:"Last Name *"}),e.jsx(n,{id:"lastName",placeholder:"Enter your last name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.lastName,onChange:a=>t("lastName",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",className:"text-arch-charcoal font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"email",type:"email",placeholder:"Enter your email address",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.email,onChange:a=>t("email",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",className:"text-arch-charcoal font-medium",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"phone",placeholder:"+234 803 000 0000",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.phone,onChange:a=>t("phone",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"company",className:"text-arch-charcoal font-medium",children:"Company/Organization (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"company",placeholder:"Enter your company name",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.company,onChange:a=>t("company",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"department",className:"text-arch-charcoal font-medium",children:"Department"}),e.jsxs(ee,{value:s.department,onValueChange:a=>t("department",a),children:[e.jsx(ae,{className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",children:e.jsx(se,{placeholder:"Select your department"})}),e.jsx(re,{children:q.map(a=>e.jsx(te,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"isStaff",checked:s.isStaff,onCheckedChange:a=>t("isStaff",a===!0)}),e.jsx(l,{htmlFor:"isStaff",className:"text-sm font-medium leading-none text-arch-blue-gray",children:"Register as Staff"})]})]},"step1"),r===2&&e.jsxs(h.div,{...A,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(j,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Account Setup"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Complete your account details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"location",className:"text-arch-charcoal font-medium",children:"Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"location",placeholder:"City, Country",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.location,onChange:a=>t("location",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",className:"text-arch-charcoal font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"password",type:p?"text":"password",placeholder:"Create a strong password",className:"pl-11 pr-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.password,onChange:a=>t("password",a.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>D(!p),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:p?e.jsx(F,{className:"h-5 w-5"}):e.jsx(M,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",className:"text-arch-charcoal font-medium",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(n,{id:"confirmPassword",type:f?"text":"password",placeholder:"Confirm your password",className:`pl-11 pr-16 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20 ${d===!1?"border-red-500 focus:border-red-500":d===!0?"border-green-500 focus:border-green-500":""}`,value:s.confirmPassword,onChange:a=>t("confirmPassword",a.target.value),required:!0}),e.jsxs("div",{className:"absolute right-11 top-3",children:[d===!0&&e.jsx(g,{className:"h-5 w-5 text-green-500"}),d===!1&&e.jsx(L,{className:"h-5 w-5 text-red-500"})]}),e.jsx("button",{type:"button",onClick:()=>R(!f),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:f?e.jsx(F,{className:"h-5 w-5"}):e.jsx(M,{className:"h-5 w-5"})})]}),d===!1&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"}),d===!0&&e.jsx("p",{className:"text-green-500 text-xs mt-1",children:"Passwords match"})]})]}),e.jsxs("div",{className:"bg-arch-light-blue/20 border border-arch-light-blue/40 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-arch-charcoal mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-arch-blue-gray space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.password.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters long"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[A-Z]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[0-9]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One number"]})]})]})]},"step2")]}),s.departmentCode?e.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Registration Successful!"}),e.jsx("p",{className:"text-green-700 mb-4",children:"Your department code has been generated:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-green-300 text-center",children:e.jsx("span",{className:"text-2xl font-bold text-arch-orange",children:s.departmentCode})}),e.jsx("p",{className:"mt-4 text-sm text-green-600",children:"Please save this code for future reference."}),e.jsx(x,{type:"button",className:"w-full mt-4 bg-arch-blue hover:bg-arch-blue/90 text-white",onClick:()=>u("/login"),children:"Continue to Login"})]}):e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(x,{type:"button",variant:"outline",onClick:J,disabled:r===1,className:"flex items-center gap-2 border-arch-light-blue text-arch-charcoal hover:bg-arch-light-blue/20",children:[e.jsx(ue,{className:"h-4 w-4"}),"Previous"]}),r<2?e.jsxs(x,{type:"button",onClick:O,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white",children:["Next",e.jsx(xe,{className:"h-4 w-4"})]}):e.jsx(x,{type:"submit",disabled:C,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white min-w-[140px]",children:C?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-4 w-4"}),"Create Account"]})})]})]}),e.jsx("div",{className:"text-center mt-8 pt-6 border-t border-arch-light-blue/30",children:e.jsxs("p",{className:"text-arch-blue-gray",children:["Already have an account?"," ",e.jsx(k,{to:"/login",className:"text-arch-orange hover:text-arch-rust font-medium transition-colors",children:"Sign in here"})]})})]})]})})})})}export{qe as default};
