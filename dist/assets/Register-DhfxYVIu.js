import{a as l,y as H,u as Z,j as e,m,L as A,A as L}from"./index-DZ_cyiIU.js";import{B as b}from"./button-C-agJQge.js";import{I as o}from"./input-CDgcxoYr.js";import{L as i}from"./label-CB07tWaF.js";import{C as G,a as K,b as Q,c as V,d as W}from"./card-B9XWTQcD.js";import{P as X}from"./progress-YiZxqaW5.js";import{u as Y,P as _}from"./useAnalytics-DBiUxIqR.js";import{C as u}from"./circle-check-big-Cz9pFkjN.js";import{C as E}from"./circle-alert-DmyQX1mS.js";import{U as ee}from"./user-Cxrct-9i.js";import{M as ae}from"./mail-B51GF2uh.js";import{P as se,M as re}from"./phone-D1vQA15N.js";import{B as te}from"./building-2-DnEGPa6s.js";import{L as N}from"./lock-DrqFLHp_.js";import{E as k,L as ce}from"./loader-circle-C5XCRqUs.js";import{E as F}from"./eye-B1olXmhu.js";import{A as le}from"./arrow-left-BdiTVdQC.js";import{A as oe}from"./arrow-right-CLvjHR7D.js";function Se(){const[r,j]=l.useState(1),[x,M]=l.useState(!1),[g,q]=l.useState(!1),[s,D]=l.useState({firstName:"",lastName:"",email:"",phone:"",location:"",company:"",password:"",confirmPassword:""}),[n,R]=l.useState(null),[y,t]=l.useState(""),[w,$]=l.useState(""),{register:B,isLoading:v,isAuthenticated:P}=H(),{trackBusinessEvent:I}=Y(),p=Z();l.useEffect(()=>{P&&p("/dashboard",{replace:!0})},[P,p]);const c=(a,d)=>{if(D(h=>({...h,[a]:d})),a==="confirmPassword"||a==="password"&&s.confirmPassword){const h=a==="password"?d:s.password,z=a==="confirmPassword"?d:s.confirmPassword;R(h===z&&h.length>0)}},C=a=>{switch(t(""),a){case 1:return!s.firstName||!s.lastName||!s.email||!s.phone?(t("Please fill in all required fields"),!1):s.email.includes("@")?!0:(t("Please enter a valid email address"),!1);case 2:return!s.location||!s.password||!s.confirmPassword?(t("Please fill in all required fields"),!1):s.password.length<8?(t("Password must be at least 8 characters long"),!1):n?!0:(t("Passwords do not match"),!1);default:return!1}},O=()=>{C(r)&&j(a=>Math.min(a+1,2))},T=()=>{j(a=>Math.max(a-1,1)),t("")},J=async a=>{if(a.preventDefault(),!!C(2))try{const d=await B({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,location:s.location,company:s.company,password:s.password,confirmPassword:s.confirmPassword});d.success?(I.userAuth("register"),$("Account created successfully! Redirecting to dashboard..."),setTimeout(()=>{p("/dashboard")},2e3)):t(d.error||"Registration failed")}catch{t("Registration failed. Please try again.")}},U={1:"Personal Information",2:"Account Setup"},f=r/2*100,S={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};return e.jsx(_,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-arch-light-blue/20 via-white to-arch-light-blue/30 flex items-center justify-center p-4",children:e.jsx(m.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"w-full max-w-2xl",children:e.jsxs(G,{className:"shadow-2xl border-0 overflow-hidden backdrop-blur-sm bg-white/95",children:[e.jsx(K,{className:"bg-gradient-to-r from-arch-charcoal to-arch-blue-gray text-white py-8",children:e.jsxs(m.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"text-center",children:[e.jsx(A,{to:"/",className:"inline-block mb-4 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"/images/brand/logo.jpg",alt:"JD Marc Limited Logo",className:"h-16 w-auto mx-auto object-contain"})}),e.jsx(Q,{className:"text-2xl font-bold text-white mb-2",children:"Join JD Marc Limited"}),e.jsx(V,{className:"text-arch-light-blue",children:"Create your account to access our platform"})]})}),e.jsxs(W,{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm font-medium text-arch-charcoal",children:["Step ",r," of 2: ",U[r]]}),e.jsxs("span",{className:"text-sm text-arch-blue-gray",children:[Math.round(f),"% Complete"]})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:[1,2].map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${a<=r?"bg-arch-orange text-white shadow-lg":a===r+1?"bg-arch-orange/20 text-arch-orange border-2 border-arch-orange":"bg-arch-light-blue/30 text-arch-blue-gray"}`,children:a<r?e.jsx(u,{className:"h-5 w-5"}):a}),a<2&&e.jsx("div",{className:`w-12 h-0.5 transition-all duration-300 ${a<r?"bg-arch-orange":"bg-arch-light-blue/30"}`})]},a))})}),e.jsx(X,{value:f,className:"h-2 bg-arch-light-blue/30",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-arch-orange to-arch-rust transition-all duration-500",style:{width:`${f}%`}})})]}),e.jsxs(L,{children:[y&&e.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[e.jsx(E,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-red-700 text-sm",children:y})]}),w&&e.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-green-700 text-sm",children:w})]})]}),e.jsxs("form",{onSubmit:J,className:"space-y-6",children:[e.jsxs(L,{mode:"wait",children:[r===1&&e.jsxs(m.div,{...S,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ee,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Personal Details"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Tell us about yourself"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"firstName",className:"text-arch-charcoal font-medium",children:"First Name *"}),e.jsx(o,{id:"firstName",placeholder:"Enter your first name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.firstName,onChange:a=>c("firstName",a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lastName",className:"text-arch-charcoal font-medium",children:"Last Name *"}),e.jsx(o,{id:"lastName",placeholder:"Enter your last name",className:"h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.lastName,onChange:a=>c("lastName",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",className:"text-arch-charcoal font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"email",type:"email",placeholder:"Enter your email address",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.email,onChange:a=>c("email",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",className:"text-arch-charcoal font-medium",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"phone",placeholder:"+234 803 000 0000",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.phone,onChange:a=>c("phone",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"company",className:"text-arch-charcoal font-medium",children:"Company/Organization (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"company",placeholder:"Enter your company name",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.company,onChange:a=>c("company",a.target.value)})]})]})]},"step1"),r===2&&e.jsxs(m.div,{...S,className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-arch-orange/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(N,{className:"h-8 w-8 text-arch-orange"})}),e.jsx("h3",{className:"text-xl font-semibold text-arch-charcoal",children:"Account Setup"}),e.jsx("p",{className:"text-arch-blue-gray text-sm mt-1",children:"Complete your account details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"location",className:"text-arch-charcoal font-medium",children:"Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"location",placeholder:"City, Country",className:"pl-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.location,onChange:a=>c("location",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",className:"text-arch-charcoal font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"password",type:x?"text":"password",placeholder:"Create a strong password",className:"pl-11 pr-11 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20",value:s.password,onChange:a=>c("password",a.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>M(!x),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:x?e.jsx(k,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",className:"text-arch-charcoal font-medium",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3 h-5 w-5 text-arch-blue-gray"}),e.jsx(o,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm your password",className:`pl-11 pr-16 h-12 border-arch-light-blue/50 focus:border-arch-orange focus:ring-arch-orange/20 ${n===!1?"border-red-500 focus:border-red-500":n===!0?"border-green-500 focus:border-green-500":""}`,value:s.confirmPassword,onChange:a=>c("confirmPassword",a.target.value),required:!0}),e.jsxs("div",{className:"absolute right-11 top-3",children:[n===!0&&e.jsx(u,{className:"h-5 w-5 text-green-500"}),n===!1&&e.jsx(E,{className:"h-5 w-5 text-red-500"})]}),e.jsx("button",{type:"button",onClick:()=>q(!g),className:"absolute right-3 top-3 text-arch-blue-gray hover:text-arch-orange transition-colors",children:g?e.jsx(k,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})]}),n===!1&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"}),n===!0&&e.jsx("p",{className:"text-green-500 text-xs mt-1",children:"Passwords match"})]})]}),e.jsxs("div",{className:"bg-arch-light-blue/20 border border-arch-light-blue/40 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-arch-charcoal mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-arch-blue-gray space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.password.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters long"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[A-Z]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[0-9]/.test(s.password)?"bg-green-500":"bg-gray-300"}`}),"One number"]})]})]})]},"step2")]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(b,{type:"button",variant:"outline",onClick:T,disabled:r===1,className:"flex items-center gap-2 border-arch-light-blue text-arch-charcoal hover:bg-arch-light-blue/20",children:[e.jsx(le,{className:"h-4 w-4"}),"Previous"]}),r<2?e.jsxs(b,{type:"button",onClick:O,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white",children:["Next",e.jsx(oe,{className:"h-4 w-4"})]}):e.jsx(b,{type:"submit",disabled:v,className:"flex items-center gap-2 bg-arch-orange hover:bg-arch-rust text-white min-w-[140px]",children:v?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-4 w-4 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"h-4 w-4"}),"Create Account"]})})]})]}),e.jsx("div",{className:"text-center mt-8 pt-6 border-t border-arch-light-blue/30",children:e.jsxs("p",{className:"text-arch-blue-gray",children:["Already have an account?"," ",e.jsx(A,{to:"/login",className:"text-arch-orange hover:text-arch-rust font-medium transition-colors",children:"Sign in here"})]})})]})]})})})})}export{Se as default};
